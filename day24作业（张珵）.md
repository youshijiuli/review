# day24作业（张珵）

# 1.计算器——见单独上传的py文件

# 2.员工信息表——见单独上传的py文件

# 3.Tom and Jerry

```python
import sys
import random
import time

class Animal(object):
    def __init__(self,n,h):
        self.name=n
        self.hp=int(h)
        self.at_mean=int(h/5)
        self.miss=0.10
    def eat(self):
        delta=random.randint(100,200)
        self.hp+=delta
        print(f'{self.name}吃了一顿大餐，体力回复{delta}点，当前血量为{self.hp}点')
    def hit(self,opponent):
        if random.random()<opponent.miss:
            print(f'{self.name}攻击了{opponent.name}，但被{opponent.name}机智地闪避了')
        else:
            attack=min(random.randint(int(self.at_mean*0.5),int(self.at_mean*1.5)),opponent.hp)
            opponent.hp-=attack
            print(f'{self.name}攻击了{opponent.name}，{opponent.name}掉{attack}点血，{opponent.name}当前血量为{opponent.hp}')
            if opponent.hp==0:
                print(f'{opponent.name}阵亡，{self.name}获胜，游戏结束！')
                return self.name+'胜'
        return None

class Cat(Animal):
    def eat(self):
        Animal.eat(self)
        percent=random.randint(1,5)
        self.at_mean=self.at_mean*(1-percent/100)
        time.sleep(t)
        print(f'酒足饭饱之后，{self.name}昏昏欲睡，攻击力下降了{percent}%')
    def angry(self,opponent):
        attack_self=min(random.randint(int(self.at_mean*0.5),int(self.at_mean*1)),self.hp)
        attack_opponent=min(random.randint(int(self.at_mean*1),int(self.at_mean*2)),opponent.hp)
        self.hp-=attack_self
        opponent.hp-=attack_opponent
        print(f'{self.name}暴怒了，自损{attack_self}点血，当前血量为{self.hp}；{opponent.name}掉{attack_opponent}点血，当前血量为{opponent.hp}')
        if self.hp==0 and opponent.hp==0:
            print(f'{self.name}和{opponent.name}同归于尽，游戏结束！')
            return '平局'
        elif self.hp==0 and opponent.hp!=0:
            print(f'{self.name}阵亡，{opponent.name}获胜，游戏结束！')
            return opponent.name+'胜'
        elif self.hp!=0 and opponent.hp==0:
            print(f'{opponent.name}阵亡，{self.name}获胜，游戏结束！')
            return self.name+'胜'
        else:
            return None

class Mouse(Animal):
    def eat(self):
        Animal.eat(self)
        delta=round(random.uniform(0.01,0.05),2)
        self.miss=max(0,round(self.miss-delta,2))
        time.sleep(t)
        print(f'酒足饭饱之后，{self.name}钻洞不再那么灵敏，闪避概率下降了{delta}至{self.miss}')
    def dig(self):
        self.miss=min(0.80,round(self.miss+random.uniform(0.20,0.30),2))
        print(f'{self.name}挖了一个洞，闪避概率提高至{self.miss}')

t=0.1   #每行文字的显示间隔
count=0
count_max=10
result_dic={}

while 1:

    tom = Cat('汤姆', 1000)
    jerry = Mouse('杰瑞', 1000)
    if result_dic=={}:
        result_dic = {tom.name+'胜': 0, '平局': 0, jerry.name+'胜': 0}
    result=None
    count+=1
    print(f'当前战绩：{result_dic}')
    time.sleep(t)
    if count == count_max + 1: break
    print(f'{tom.name}和{jerry.name}的第{count}局对战开始！')
    time.sleep(t)
    print(f'{tom.name}初始血量{tom.hp}，{jerry.name}初始血量{jerry.hp}')
    time.sleep(t)

    while 1:

        # 汤姆回合
        r1=random.random()
        if r1<0.2:
            tom.eat()
        elif r1<0.4:
            result=tom.angry(jerry)
            if result:
                result_dic[result] += 1
                break
        else:
            result=tom.hit(jerry)
            if result:
                result_dic[result] += 1
                break
        time.sleep(t)

        #杰瑞回合
        r2=random.random()
        if r2<0.2:
            jerry.eat()
        elif r2<0.4 and jerry.miss<0.8:
            jerry.dig()
        else:
            result=jerry.hit(tom)
            if result:
                result_dic[result] += 1
                break
        time.sleep(t)
```

```
当前战绩：{'汤姆胜': 0, '平局': 0, '杰瑞胜': 0}
汤姆和杰瑞的第1局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆攻击了杰瑞，杰瑞掉289点血，杰瑞当前血量为711
杰瑞攻击了汤姆，汤姆掉107点血，汤姆当前血量为893
汤姆暴怒了，自损170点血，当前血量为723；杰瑞掉353点血，当前血量为358
杰瑞攻击了汤姆，汤姆掉136点血，汤姆当前血量为587
汤姆暴怒了，自损160点血，当前血量为427；杰瑞掉317点血，当前血量为41
杰瑞攻击了汤姆，但被汤姆机智地闪避了
汤姆吃了一顿大餐，体力回复130点，当前血量为557点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了3%
杰瑞攻击了汤姆，汤姆掉136点血，汤姆当前血量为421
汤姆吃了一顿大餐，体力回复155点，当前血量为576点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了2%
杰瑞攻击了汤姆，但被汤姆机智地闪避了
汤姆攻击了杰瑞，杰瑞掉41点血，杰瑞当前血量为0
杰瑞阵亡，汤姆获胜，游戏结束！
当前战绩：{'汤姆胜': 1, '平局': 0, '杰瑞胜': 0}
汤姆和杰瑞的第2局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆暴怒了，自损111点血，当前血量为889；杰瑞掉340点血，当前血量为660
杰瑞挖了一个洞，闪避概率提高至0.39
汤姆暴怒了，自损144点血，当前血量为745；杰瑞掉369点血，当前血量为291
杰瑞攻击了汤姆，汤姆掉247点血，汤姆当前血量为498
汤姆吃了一顿大餐，体力回复131点，当前血量为629点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了2%
杰瑞攻击了汤姆，汤姆掉294点血，汤姆当前血量为335
汤姆攻击了杰瑞，但被杰瑞机智地闪避了
杰瑞攻击了汤姆，汤姆掉255点血，汤姆当前血量为80
汤姆攻击了杰瑞，但被杰瑞机智地闪避了
杰瑞攻击了汤姆，汤姆掉80点血，汤姆当前血量为0
汤姆阵亡，杰瑞获胜，游戏结束！
当前战绩：{'汤姆胜': 1, '平局': 0, '杰瑞胜': 1}
汤姆和杰瑞的第3局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆攻击了杰瑞，杰瑞掉167点血，杰瑞当前血量为833
杰瑞吃了一顿大餐，体力回复102点，当前血量为935点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.03至0.07
汤姆攻击了杰瑞，杰瑞掉162点血，杰瑞当前血量为773
杰瑞吃了一顿大餐，体力回复116点，当前血量为889点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.02至0.05
汤姆攻击了杰瑞，杰瑞掉278点血，杰瑞当前血量为611
杰瑞吃了一顿大餐，体力回复126点，当前血量为737点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.03至0.02
汤姆攻击了杰瑞，杰瑞掉236点血，杰瑞当前血量为501
杰瑞攻击了汤姆，汤姆掉106点血，汤姆当前血量为894
汤姆攻击了杰瑞，杰瑞掉167点血，杰瑞当前血量为334
杰瑞攻击了汤姆，汤姆掉209点血，汤姆当前血量为685
汤姆攻击了杰瑞，杰瑞掉155点血，杰瑞当前血量为179
杰瑞攻击了汤姆，汤姆掉294点血，汤姆当前血量为391
汤姆攻击了杰瑞，杰瑞掉141点血，杰瑞当前血量为38
杰瑞吃了一顿大餐，体力回复146点，当前血量为184点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.04至0
汤姆吃了一顿大餐，体力回复149点，当前血量为540点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了2%
杰瑞攻击了汤姆，但被汤姆机智地闪避了
汤姆暴怒了，自损111点血，当前血量为429；杰瑞掉184点血，当前血量为0
杰瑞阵亡，汤姆获胜，游戏结束！
当前战绩：{'汤姆胜': 2, '平局': 0, '杰瑞胜': 1}
汤姆和杰瑞的第4局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆攻击了杰瑞，杰瑞掉150点血，杰瑞当前血量为850
杰瑞挖了一个洞，闪避概率提高至0.31
汤姆暴怒了，自损146点血，当前血量为854；杰瑞掉209点血，当前血量为641
杰瑞攻击了汤姆，汤姆掉131点血，汤姆当前血量为723
汤姆攻击了杰瑞，但被杰瑞机智地闪避了
杰瑞攻击了汤姆，汤姆掉137点血，汤姆当前血量为586
汤姆暴怒了，自损200点血，当前血量为386；杰瑞掉277点血，当前血量为364
杰瑞攻击了汤姆，汤姆掉295点血，汤姆当前血量为91
汤姆暴怒了，自损91点血，当前血量为0；杰瑞掉353点血，当前血量为11
汤姆阵亡，杰瑞获胜，游戏结束！
当前战绩：{'汤姆胜': 2, '平局': 0, '杰瑞胜': 2}
汤姆和杰瑞的第5局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆吃了一顿大餐，体力回复126点，当前血量为1126点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了3%
杰瑞挖了一个洞，闪避概率提高至0.34
汤姆攻击了杰瑞，但被杰瑞机智地闪避了
杰瑞攻击了汤姆，汤姆掉101点血，汤姆当前血量为1025
汤姆暴怒了，自损130点血，当前血量为895；杰瑞掉288点血，当前血量为712
杰瑞挖了一个洞，闪避概率提高至0.6
汤姆暴怒了，自损173点血，当前血量为722；杰瑞掉370点血，当前血量为342
杰瑞攻击了汤姆，汤姆掉155点血，汤姆当前血量为567
汤姆吃了一顿大餐，体力回复131点，当前血量为698点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了1%
杰瑞吃了一顿大餐，体力回复111点，当前血量为453点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.02至0.58
汤姆攻击了杰瑞，杰瑞掉261点血，杰瑞当前血量为192
杰瑞攻击了汤姆，但被汤姆机智地闪避了
汤姆暴怒了，自损159点血，当前血量为539；杰瑞掉192点血，当前血量为0
杰瑞阵亡，汤姆获胜，游戏结束！
当前战绩：{'汤姆胜': 3, '平局': 0, '杰瑞胜': 2}
汤姆和杰瑞的第6局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆暴怒了，自损100点血，当前血量为900；杰瑞掉388点血，当前血量为612
杰瑞攻击了汤姆，汤姆掉157点血，汤姆当前血量为743
汤姆攻击了杰瑞，杰瑞掉181点血，杰瑞当前血量为431
杰瑞吃了一顿大餐，体力回复163点，当前血量为594点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.04至0.06
汤姆攻击了杰瑞，杰瑞掉157点血，杰瑞当前血量为437
杰瑞攻击了汤姆，汤姆掉215点血，汤姆当前血量为528
汤姆吃了一顿大餐，体力回复123点，当前血量为651点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了5%
杰瑞吃了一顿大餐，体力回复126点，当前血量为563点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.03至0.03
汤姆攻击了杰瑞，杰瑞掉110点血，杰瑞当前血量为453
杰瑞攻击了汤姆，汤姆掉239点血，汤姆当前血量为412
汤姆吃了一顿大餐，体力回复178点，当前血量为590点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了3%
杰瑞攻击了汤姆，汤姆掉262点血，汤姆当前血量为328
汤姆攻击了杰瑞，杰瑞掉107点血，杰瑞当前血量为346
杰瑞攻击了汤姆，但被汤姆机智地闪避了
汤姆暴怒了，自损179点血，当前血量为149；杰瑞掉270点血，当前血量为76
杰瑞攻击了汤姆，汤姆掉149点血，汤姆当前血量为0
汤姆阵亡，杰瑞获胜，游戏结束！
当前战绩：{'汤姆胜': 3, '平局': 0, '杰瑞胜': 3}
汤姆和杰瑞的第7局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆攻击了杰瑞，杰瑞掉144点血，杰瑞当前血量为856
杰瑞挖了一个洞，闪避概率提高至0.31
汤姆攻击了杰瑞，杰瑞掉294点血，杰瑞当前血量为562
杰瑞攻击了汤姆，汤姆掉212点血，汤姆当前血量为788
汤姆吃了一顿大餐，体力回复109点，当前血量为897点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了1%
杰瑞攻击了汤姆，汤姆掉130点血，汤姆当前血量为767
汤姆暴怒了，自损198点血，当前血量为569；杰瑞掉340点血，当前血量为222
杰瑞攻击了汤姆，汤姆掉287点血，汤姆当前血量为282
汤姆攻击了杰瑞，但被杰瑞机智地闪避了
杰瑞攻击了汤姆，汤姆掉147点血，汤姆当前血量为135
汤姆攻击了杰瑞，但被杰瑞机智地闪避了
杰瑞攻击了汤姆，汤姆掉135点血，汤姆当前血量为0
汤姆阵亡，杰瑞获胜，游戏结束！
当前战绩：{'汤姆胜': 3, '平局': 0, '杰瑞胜': 4}
汤姆和杰瑞的第8局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆攻击了杰瑞，杰瑞掉209点血，杰瑞当前血量为791
杰瑞攻击了汤姆，汤姆掉173点血，汤姆当前血量为827
汤姆攻击了杰瑞，但被杰瑞机智地闪避了
杰瑞攻击了汤姆，但被汤姆机智地闪避了
汤姆暴怒了，自损161点血，当前血量为666；杰瑞掉214点血，当前血量为577
杰瑞攻击了汤姆，汤姆掉112点血，汤姆当前血量为554
汤姆攻击了杰瑞，杰瑞掉261点血，杰瑞当前血量为316
杰瑞攻击了汤姆，汤姆掉281点血，汤姆当前血量为273
汤姆攻击了杰瑞，杰瑞掉288点血，杰瑞当前血量为28
杰瑞吃了一顿大餐，体力回复193点，当前血量为221点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.02至0.08
汤姆攻击了杰瑞，杰瑞掉144点血，杰瑞当前血量为77
杰瑞攻击了汤姆，汤姆掉230点血，汤姆当前血量为43
汤姆攻击了杰瑞，杰瑞掉77点血，杰瑞当前血量为0
杰瑞阵亡，汤姆获胜，游戏结束！
当前战绩：{'汤姆胜': 4, '平局': 0, '杰瑞胜': 4}
汤姆和杰瑞的第9局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆吃了一顿大餐，体力回复110点，当前血量为1110点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了2%
杰瑞吃了一顿大餐，体力回复195点，当前血量为1195点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.03至0.07
汤姆吃了一顿大餐，体力回复162点，当前血量为1272点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了2%
杰瑞攻击了汤姆，汤姆掉233点血，汤姆当前血量为1039
汤姆攻击了杰瑞，杰瑞掉267点血，杰瑞当前血量为928
杰瑞攻击了汤姆，汤姆掉280点血，汤姆当前血量为759
汤姆攻击了杰瑞，杰瑞掉260点血，杰瑞当前血量为668
杰瑞吃了一顿大餐，体力回复109点，当前血量为777点
酒足饭饱之后，杰瑞钻洞不再那么灵敏，闪避概率下降了0.04至0.03
汤姆攻击了杰瑞，杰瑞掉116点血，杰瑞当前血量为661
杰瑞攻击了汤姆，汤姆掉160点血，汤姆当前血量为599
汤姆暴怒了，自损144点血，当前血量为455；杰瑞掉206点血，当前血量为455
杰瑞攻击了汤姆，汤姆掉214点血，汤姆当前血量为241
汤姆吃了一顿大餐，体力回复160点，当前血量为401点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了3%
杰瑞攻击了汤姆，汤姆掉204点血，汤姆当前血量为197
汤姆攻击了杰瑞，杰瑞掉204点血，杰瑞当前血量为251
杰瑞攻击了汤姆，汤姆掉197点血，汤姆当前血量为0
汤姆阵亡，杰瑞获胜，游戏结束！
当前战绩：{'汤姆胜': 4, '平局': 0, '杰瑞胜': 5}
汤姆和杰瑞的第10局对战开始！
汤姆初始血量1000，杰瑞初始血量1000
汤姆攻击了杰瑞，但被杰瑞机智地闪避了
杰瑞攻击了汤姆，汤姆掉229点血，汤姆当前血量为771
汤姆攻击了杰瑞，杰瑞掉210点血，杰瑞当前血量为790
杰瑞攻击了汤姆，汤姆掉193点血，汤姆当前血量为578
汤姆攻击了杰瑞，杰瑞掉158点血，杰瑞当前血量为632
杰瑞攻击了汤姆，汤姆掉217点血，汤姆当前血量为361
汤姆攻击了杰瑞，杰瑞掉104点血，杰瑞当前血量为528
杰瑞攻击了汤姆，但被汤姆机智地闪避了
汤姆吃了一顿大餐，体力回复187点，当前血量为548点
酒足饭饱之后，汤姆昏昏欲睡，攻击力下降了5%
杰瑞挖了一个洞，闪避概率提高至0.37
汤姆暴怒了，自损175点血，当前血量为373；杰瑞掉257点血，当前血量为271
杰瑞攻击了汤姆，汤姆掉253点血，汤姆当前血量为120
汤姆攻击了杰瑞，但被杰瑞机智地闪避了
杰瑞攻击了汤姆，汤姆掉104点血，汤姆当前血量为16
汤姆暴怒了，自损16点血，当前血量为0；杰瑞掉271点血，当前血量为0
汤姆和杰瑞同归于尽，游戏结束！
当前战绩：{'汤姆胜': 4, '平局': 1, '杰瑞胜': 5}
```

